# 快速开始指南 - 上传第一条视频

## ✅ 已完成的更新

### 1. 返回首页按钮
- ✅ 内容审核页面（`/admin/review`）已添加返回首页按钮
- ✅ 视频管理页面（`/admin/videos`）已添加返回首页按钮
- ✅ 审核详情页面（`/admin/review/:id`）已添加返回首页按钮

### 2. 新增视频按钮
- ✅ 已暂时隐藏视频管理页面的"新增视频"按钮
- 原因：正常流程应该从APP端上传，经过审核后自动进入视频管理

---

## 📹 上传第一条视频 - 完整流程

### 推荐方式：APP端上传（测试完整审核流程）

#### 第1步：准备视频素材

**双视频上传需要**：
- 创意视频（主视频）：最大500MB，时长不限
- 广告视频（片头）：最大100MB，时长≤10秒

**文案上传需要**：
- 文案内容
- 参考图片（可选）

#### 第2步：在APP端上传视频

1. **打开APP首页**
   ```
   http://localhost:3000
   ```

2. **登录账号**
   - 点击右下角"我的"
   - 如果未登录，先完成登录/注册

3. **进入创作页面**
   - 点击底部导航栏的"➕ 创作"按钮
   - 会弹出创作选项菜单

4. **选择上传方式**
   
   **方式A：上传视频**
   - 点击"上传视频"
   - 跳转到双视频上传页面（`/upload-dual-video`）
   
   **方式B：上传文案**
   - 点击"上传文案"
   - 跳转到文案上传页面（`/upload-text`）

#### 第3步：填写视频信息（以双视频上传为例）

1. **上传创意视频**
   - 点击"选择创意视频"
   - 选择您的主视频文件
   - 系统会根据视频时长自动计算建议价格区间

2. **上传广告视频（可选）**
   - 点击"选择广告视频"
   - 选择10秒内的片头视频

3. **填写基本信息**
   - 标题：视频的标题（必填）
   - 描述：视频的详细描述（必填）
   - 分类：选择视频分类（母婴/服饰/百货/其它）
   - 定价：设置视频售价（建议在系统推荐的价格区间内）

4. **提交审核**
   - 点击"提交审核"按钮
   - 等待提交成功提示
   - 系统会自动跳转到审核结果页面

#### 第4步：在管理后台审核

1. **进入管理后台**
   ```
   http://localhost:3000/admin
   ```

2. **登录管理员账号**
   - 账号：admin
   - 密码：admin123

3. **进入内容审核页面**
   - 点击"内容审核"卡片
   - 或直接访问：`http://localhost:3000/admin/review`

4. **查看待审核视频**
   - 在"待初审"标签页可以看到刚提交的视频
   - 点击"查看详情"进入审核详情页

#### 第5步：完成审核流程

**初审阶段**：
1. 查看视频内容
2. 选择操作：
   - **通过初审**：进入报价阶段
   - **拒绝**：填写拒绝原因，视频被驳回

**报价阶段**（初审通过后）：
1. 点击"发送报价"
2. 填写报价信息：
   - 报价金额
   - 预计制作天数
   - 备注说明
3. 提交报价

**客户确认阶段**（报价后）：
- 等待客户确认付款（模拟）
- 或点击"模拟客户确认"快速测试

**制作阶段**（客户确认后）：
1. 点击"开始制作"
2. 上传制作完成的视频
3. 提交给客户确认

**客户确认制作成果**：
- 客户可以选择：
  - **确认满意**：进入终审
  - **申请修改**：进入修改阶段（仅一次机会）

**修改阶段**（如果客户申请修改）：
1. 查看客户的修改要求
2. 重新制作并上传
3. 提交修改后的视频

**终审上架**：
1. 点击"终审通过并上架"
2. 视频状态变为"已上架"
3. 视频自动出现在"视频管理"模块

#### 第6步：在视频管理中运营

1. **进入视频管理页面**
   ```
   http://localhost:3000/admin/videos
   ```

2. **查看已上架视频**
   - 在列表中可以看到刚上架的视频
   - 默认按上架时间排序

3. **调整视频设置**
   - **修改分类**：点击分类下拉框，选择新分类
   - **设置首页推荐**：点击星标图标
   - **调整排序**：输入排序值（数字越大越靠前）
   - **下架视频**：点击"下架"按钮

4. **批量操作**
   - 勾选多个视频
   - 点击"批量操作"按钮
   - 选择操作：修改分类、设置推荐、批量下架等

---

## 🎯 快速测试流程（推荐）

如果您想快速测试完整流程，可以按以下步骤：

### 1分钟快速测试

```bash
# 1. 打开APP端
http://localhost:3000

# 2. 点击"创作" → "上传视频"

# 3. 填写信息（可以使用测试数据）：
标题：测试视频
描述：这是一个测试视频
分类：母婴
定价：50

# 4. 上传视频文件（任意视频文件）

# 5. 提交审核

# 6. 打开管理后台
http://localhost:3000/admin/review

# 7. 在"待初审"中找到视频，点击"查看详情"

# 8. 依次完成：
- 初审通过
- 发送报价（报价50元，3天）
- 模拟客户确认
- 开始制作 → 上传视频 → 提交
- 模拟客户确认满意
- 终审通过并上架

# 9. 进入视频管理
http://localhost:3000/admin/videos

# 10. 查看已上架的视频，进行运营管理
```

---

## 📊 视频状态流转图

```
用户提交
   ↓
待初审 (pending_initial_review)
   ↓
[初审通过]
   ↓
待报价 (pending_quote)
   ↓
[发送报价]
   ↓
已报价 (quoted)
   ↓
[客户确认付款]
   ↓
制作中 (in_production)
   ↓
[提交制作成果]
   ↓
待确认 (pending_client_confirm)
   ↓
[客户选择]
   ├─→ 确认满意 → 待终审 (pending_final_review) → 已上架 (published)
   └─→ 申请修改 → 修改中 (in_revision) → 待确认 → 已上架
```

---

## 🔧 常见问题

### Q1: 视频上传失败怎么办？
**A**: 检查以下几点：
- 文件格式是否为视频格式（mp4, mov, avi等）
- 文件大小是否超过限制（创意视频500MB，广告视频100MB）
- 网络连接是否正常
- 浏览器控制台是否有错误信息

### Q2: 审核后的视频在哪里查看？
**A**: 
- 审核中的视频：`/admin/review`（内容审核）
- 已上架的视频：`/admin/videos`（视频管理）
- 用户端查看：首页或对应分类页面

### Q3: 如何修改已上架视频的信息？
**A**: 
- 在视频管理页面（`/admin/videos`）
- 找到对应视频
- 直接在列表中修改分类、推荐状态、排序值
- 或点击"编辑"按钮进入详情页修改

### Q4: 视频没有显示在首页怎么办？
**A**: 检查以下设置：
1. 视频状态是否为"已上架"
2. 如果要显示在首页轮播，需要设置"首页推荐"
3. 如果要在分类页显示，确保分类设置正确
4. 排序值越大，显示越靠前

### Q5: 可以跳过审核流程直接上架吗？
**A**: 
- 当前设计不支持跳过审核
- 如果需要快速测试，可以在审核流程中使用"模拟客户确认"等功能
- 如果确实需要管理员直接上传功能，可以实现 `/admin/videos/upload` 页面

---

## 📝 数据库说明

### 视频审核相关字段

```javascript
{
  // 基本信息
  title: '视频标题',
  description: '视频描述',
  category: 'mother_baby',  // 分类
  price: 50,  // 定价
  
  // 审核状态
  reviewStatus: 'pending_initial_review',  // 审核状态
  
  // 运营字段（审核通过后才有）
  isHomeRecommended: false,  // 是否首页推荐
  sortOrder: null,  // 排序值
  publishedAt: null,  // 上架时间
  
  // 时间戳
  createdAt: '2025-01-01T00:00:00.000Z',
  updatedAt: '2025-01-01T00:00:00.000Z',
}
```

---

## 🎉 总结

1. ✅ **返回首页按钮**已添加到所有管理页面
2. ✅ **新增视频按钮**已暂时隐藏（推荐使用APP端上传）
3. ⭐ **推荐使用APP端上传**，完整测试审核流程
4. 📹 **完整流程**：APP上传 → 后台审核 → 视频管理 → 用户查看

按照本指南，您可以完整地测试从视频上传到上架的整个流程！



